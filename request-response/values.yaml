## Klaytn Orakl Listener Configuration
## created by Bisonai

global:
  image:
    repository: docker.io/bisonai/orakl #repository url
    pullPolicy: IfNotPresent
    tag: "v0.0.0-dev-alpha"  
    imagePullPolicy: IfNotPresent
    # -- If defined, uses a Secret to pull an image from a private Docker registry or repository
    imagePullSecrets: []

  config:
    PROVIDER_URL: http://host.docker.internal:host-gateway:8545
    NODE_ENV: production    #[dev, production]
    CHAIN: localhost        #[baobab, cypress]
    HEALTH_CHECK_PORT: 8888 #Specify Helath Check Port
    ORAKL_DIR: /app/db      #The path should match with PVC of Orakl database
    REDIS_HOST: 10.1.0.78   #Redis Host Url
    REDIS_PORT: 6379        #Redis Port
    SLACK_WEBHOOK_URL:      #Error message is delivered to slack 
    LOG_LEVEL: info         #[info, debug]
    LOG_DIR: /app/log       #The path should match with PVC of Orakl Log
    PUBLIC_KEY: 0x1CBd3b2770909D4e10f157cABC84C7264073C9Ec
    PRIVATE_KEY: 0x47c99abed3324a2707c28affff1267e45918ec8c3f20b8aa892e8b065d2942dd

  affinity:
    enabled: false
    key: kubernetes.io/hostname
    value: ip-10-0-90-13.ap-southeast-1.compute.internal

  hostPath: 
    enable: true
    volumes:
      - name: orakl-database-storage
        hostPath:
          path: /db/
          type: DirectoryOrCreate
      - name: orakl-log-storage
        hostPath:
          path: /log/
          type: DirectoryOrCreate

  volumes:
    - name: orakl-database-storage
      persistentVolumeClaim:
        claimName: orakl-database
    - name: orakl-log-storage
      persistentVolumeClaim:
        claimName: orakl-log

  volumeMounts:
    - name: orakl-database-storage
      mountPath: /app/db      
      subPath: db
    - name: orakl-log-storage
      mountPath: /app/log

  podAnnotations: {}

  livenessProbe:
    enabled: true
    path: /
    initialDelaySeconds: 20
    periodSeconds: 5
    timeoutSeconds: 5
    successThreshold: 1
    failureThreshold: 5

  readinessProbe:
    enabled: true
    path: /
    initialDelaySeconds: 20
    periodSeconds: 5
    timeoutSeconds: 1
    successThreshold: 1
    failureThreshold: 5 

listener:
  enabled: true
  replicas: 1
  serviceAccount:
    # -- Create a service account for the application controller
    create: true
    # -- Service account name
    name: orakl-request-response-listener
    # -- Annotations applied to created service account
    annotations: {}
    # -- Automount API credentials for the Service Account
    automountServiceAccountToken: true

  podSecurityContext: {}

  containerSecurityContext: {}
    
  resources:
    # limits:
    #   cpu: 500m
    #   memory: 4Gi
    # requests:
    #   cpu: 500m
    #   memory: 4Gi

worker:
  enabled: true
  replicas: 1
  serviceAccount:
    # -- Create a service account for the application controller
    create: true
    # -- Service account name
    name: orakl-request-response-worker
    # -- Annotations applied to created service account
    annotations: {}
    # -- Automount API credentials for the Service Account
    automountServiceAccountToken: true

  podSecurityContext: {}

  containerSecurityContext: {}
    
  resources:
    # limits:
    #   cpu: 500m
    #   memory: 4Gi
    # requests:
    #   cpu: 500m
    #   memory: 4Gi

reporter:
  enabled: true
  replicas: 1
  serviceAccount:
    # -- Create a service account for the application controller
    create: true
    # -- Service account name
    name: orakl-request-response-reporter
    # -- Annotations applied to created service account
    annotations: {}
    # -- Automount API credentials for the Service Account
    automountServiceAccountToken: true

  podSecurityContext: {}

  containerSecurityContext: {}
    
  resources:
    # limits:
    #   cpu: 500m
    #   memory: 4Gi
    # requests:
    #   cpu: 500m
    #   memory: 4Gi

nodeSelector: {}
tolerations: []
dotenv: {}
