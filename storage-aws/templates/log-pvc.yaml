apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: "{{ .Values.name | default "orakl-log" }}"
spec:
  accessModes:
    {{- if .Values.config.efsFileSystemId }}  
    - ReadWriteMany
    {{ else }}
    - ReadWriteOnce
    {{ end }}
  resources:
    requests:
      storage: "{{ .Values.config.size }}"
  volumeName:  "{{ .Values.name | default "orakl-log" }}-pv"
  {{- if .Values.config.efsFileSystemId }}    
  storageClassName: orakl-sc    
  {{- end }}
